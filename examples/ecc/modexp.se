b = msg.data[0]
e = msg.data[1]
m = msg.data[2]

if e == 0:
    return(1)
elif e == 1:
    return(b)
elif !(e%2):
    sub = msg(contract.address, 0, [b, e/2, m], 3)
    return(modmul(sub, sub, m))
else:
    sub = msg(contract.address, 0, [b, e/2, m], 3)
    return(modmul(modmul(sub, sub, m), b, m))
